(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t);var s,c=n(1),a=n(0),o=n.n(a),r=n(66),i=n.n(r),j=(n(77),n(17)),u=n(2),l=(n(78),n(71)),m=n(6),b=n(67),O=n.n(b),d=n(68),h=n.n(d),f=n.p+"static/media/icon.bb23ad55.png",x=function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),s=n[0],o=n[1],r=Object(a.useState)(""),i=Object(m.a)(r,2),u=i[0],l=i[1];return Object(c.jsxs)("nav",{className:"nav",children:[Object(c.jsx)("img",{src:f,className:"icon-img",alt:"icon"}),Object(c.jsxs)("h1",{className:"room-name",children:["Room-",e.room]}),Object(c.jsxs)("div",{className:"burger ".concat(u),onClick:function(){"show-users"===s?(o(""),l("")):(o("show-users"),l("toggle"),e.getusers())},children:[Object(c.jsx)("div",{className:"line1"}),Object(c.jsx)("div",{className:"line2"}),Object(c.jsx)("div",{className:"line3"})]}),Object(c.jsxs)("div",{className:"users ".concat(s),children:[Object(c.jsx)("h4",{children:"MEMBERS"}),e.usersInRoom.map((function(t){return Object(c.jsx)("p",{children:t.name},e.usersInRoom.indexOf(t))})),Object(c.jsx)(j.b,{to:"/",children:Object(c.jsx)("button",{className:"leave-btn",children:"Leave"})})]})]})},p=function(e){var t=e.message,n=e.setMessage,s=e.sendMessage;return Object(c.jsxs)("form",{className:"sender-bar",onSubmit:function(e){s(e)},children:[Object(c.jsx)("input",{type:"text",className:"sender-input",placeholder:"Type a message here...",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?s(e):null}}),Object(c.jsx)("button",{className:"send-btn",type:"submit",children:"Send"})]})},g=n(70),v=n.n(g),N=n(43),S=n.n(N),y=function(e){var t=e.message,n=e.user;return(e.name.trim().toLowerCase()===n?1:0)?Object(c.jsx)("div",{className:"curr-msg",children:S.a.emojify(t)}):Object(c.jsxs)("div",{className:"other-msg",children:[Object(c.jsx)("h3",{children:n}),Object(c.jsx)("p",{children:S.a.emojify(t)})]})},C=function(e){var t=e.messages,n=e.name;return Object(c.jsx)(v.a,{className:"msg-box",children:t.map((function(e){return Object(c.jsx)(y,{message:e.text,user:e.user,name:n},t.indexOf(e))}))})},M=function(e){var t=e.location,n=Object(a.useState)(""),o=Object(m.a)(n,2),r=o[0],i=o[1],j=Object(a.useState)(""),u=Object(m.a)(j,2),b=u[0],d=u[1],f=Object(a.useState)(""),g=Object(m.a)(f,2),v=g[0],N=g[1],S=Object(a.useState)([]),y=Object(m.a)(S,2),M=y[0],k=y[1],E=Object(a.useState)([]),I=Object(m.a)(E,2),w=I[0],R=I[1],F="https://chatappserver1.herokuapp.com/";Object(a.useEffect)((function(){var e=h.a.parse(t.search),n=e.name,c=e.room;return s=O()(F),i(n),d(c),s.emit("user-joined",{name:n,room:c},(function(){console.log("error")})),s.on("roomdata",(function(e){R(e)})),function(){s.emit("disconnection"),s.off()}}),[F,t.search]),Object(a.useEffect)((function(){return s.on("message",(function(e){k([].concat(Object(l.a)(M),[e]))})),s.on("roomdata",(function(e){R(e)})),function(){s.off()}}),[M]);return Object(c.jsxs)("div",{className:"inner-container",children:[Object(c.jsx)(x,{room:b,usersInRoom:w,getusers:function(){s.on("roomdata",(function(e){R(e)}))}}),Object(c.jsx)(C,{messages:M,name:r}),Object(c.jsx)(p,{message:v,setMessage:N,sendMessage:function(e){e.preventDefault(),v&&s.emit("sendMessage",v,(function(){N("")}))}})]})},k=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],s=t[1],o=Object(a.useState)(""),r=Object(m.a)(o,2),i=r[0],u=r[1];return Object(c.jsxs)("div",{className:"inner-container-join",children:[Object(c.jsx)("h1",{className:"app-name",children:"Commutify"}),Object(c.jsx)("h3",{className:"app-label",children:"Chat App"}),Object(c.jsx)("div",{className:"h-line"}),Object(c.jsxs)("form",{className:"joining-form",children:[Object(c.jsx)("input",{type:"text",placeholder:"Your name here..",onChange:function(e){s(e.target.value)}}),Object(c.jsx)("input",{type:"text",placeholder:"Your room here..",onChange:function(e){u(e.target.value)}}),Object(c.jsx)(j.b,{onClick:function(e){return n&&i?null:e.preventDefault()},to:"/chat?name=".concat(n,"&room=").concat(i),children:Object(c.jsx)("button",{type:"submit",className:"send-btn join-btn",children:"Sign In"})})]})]})},E=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("div",{className:"main-container",children:Object(c.jsxs)(j.a,{children:[Object(c.jsx)(u.a,{path:"/",exact:!0,component:k}),Object(c.jsx)(u.a,{path:"/chat",component:M})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),c(e),a(e),o(e)}))};i.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),I()},77:function(e,t,n){},78:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.9329501e.chunk.js.map