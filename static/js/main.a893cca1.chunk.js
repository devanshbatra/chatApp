(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t);var c,s=n(1),a=n(0),o=n.n(a),r=n(66),i=n.n(r),j=(n(77),n(17)),u=n(2),l=(n(78),n(71)),m=n(6),b=n(67),O=n.n(b),d=n(68),h=n.n(d),f=n.p+"static/media/icon.bb23ad55.png",p=function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],o=n[1],r=Object(a.useState)(""),i=Object(m.a)(r,2),u=i[0],l=i[1];return Object(s.jsxs)("nav",{className:"nav",children:[Object(s.jsx)("img",{src:f,className:"icon-img",alt:"icon"}),Object(s.jsxs)("h1",{className:"room-name",children:["Room-",e.room]}),Object(s.jsxs)("div",{className:"burger ".concat(u),onClick:function(){"show-users"===c?(o(""),l("")):(o("show-users"),l("toggle"),e.getusers())},children:[Object(s.jsx)("div",{className:"line1"}),Object(s.jsx)("div",{className:"line2"}),Object(s.jsx)("div",{className:"line3"})]}),Object(s.jsxs)("div",{className:"users ".concat(c),children:[Object(s.jsx)("h4",{children:"MEMBERS"}),e.usersInRoom.map((function(t){return Object(s.jsx)("p",{children:t.name},e.usersInRoom.indexOf(t))})),Object(s.jsx)(j.b,{to:"/",children:Object(s.jsx)("button",{className:"leave-btn",children:"Leave"})})]})]})},x=function(e){var t=e.message,n=e.setMessage,c=e.sendMessage;return Object(s.jsxs)("form",{className:"sender-bar",onSubmit:function(e){c(e)},children:[Object(s.jsx)("input",{type:"text",className:"sender-input",placeholder:"Type a message here...",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?c(e):null}}),Object(s.jsx)("button",{className:"send-btn",type:"submit",children:"Send"})]})},g=n(70),v=n.n(g),N=n(43),S=n.n(N),y=function(e){var t=e.message,n=e.user;return(e.name.trim().toLowerCase()===n?1:0)?Object(s.jsx)("div",{className:"curr-msg",children:S.a.emojify(t)}):Object(s.jsxs)("div",{className:"other-msg",children:[Object(s.jsx)("h3",{children:n}),Object(s.jsx)("p",{children:S.a.emojify(t)})]})},C=function(e){var t=e.messages,n=e.name;return Object(s.jsx)(v.a,{className:"msg-box",children:t.map((function(e){return Object(s.jsx)(y,{message:e.text,user:e.user,name:n},t.indexOf(e))}))})},M=function(e){var t=e.location,n=Object(a.useState)(""),o=Object(m.a)(n,2),r=o[0],i=o[1],j=Object(a.useState)(""),u=Object(m.a)(j,2),b=u[0],d=u[1],f=Object(a.useState)(""),g=Object(m.a)(f,2),v=g[0],N=g[1],S=Object(a.useState)([]),y=Object(m.a)(S,2),M=y[0],k=y[1],E=Object(a.useState)([]),I=Object(m.a)(E,2),w=I[0],A=I[1],R="https://chatappserver1.herokuapp.com/";Object(a.useEffect)((function(){var e=h.a.parse(t.search),n=e.name,s=e.room;return c=O()(R),i(n),d(s),c.emit("user-joined",{name:n,room:s},(function(){console.log("error")})),c.on("roomdata",(function(e){A(e)})),function(){c.emit("disconnection"),c.off()}}),[R,t.search]),Object(a.useEffect)((function(){return c.on("message",(function(e){k([].concat(Object(l.a)(M),[e]))})),c.on("roomdata",(function(e){A(e)})),function(){c.off()}}),[M]);return Object(s.jsxs)("div",{className:"inner-container",children:[Object(s.jsx)(p,{room:b,usersInRoom:w,getusers:function(){c.on("roomdata",(function(e){A(e)}))}}),Object(s.jsx)(C,{messages:M,name:r}),Object(s.jsx)(x,{message:v,setMessage:N,sendMessage:function(e){e.preventDefault(),v&&c.emit("sendMessage",v,(function(){N("")}))}})]})},k=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),r=Object(m.a)(o,2),i=r[0],u=r[1];return Object(s.jsxs)("div",{className:"inner-container-join",children:[Object(s.jsx)("h1",{className:"app-name",children:"Commutify"}),Object(s.jsx)("h3",{className:"app-label",children:"Chat App"}),Object(s.jsx)("div",{className:"h-line"}),Object(s.jsxs)("form",{className:"joining-form",children:[Object(s.jsx)("input",{type:"text",placeholder:"Your name here..",onChange:function(e){c(e.target.value)}}),Object(s.jsx)("input",{type:"text",placeholder:"Your room here..",onChange:function(e){u(e.target.value)}}),Object(s.jsx)(j.b,{onClick:function(e){return n&&i?null:e.preventDefault()},to:"/chatApp/chat?name=".concat(n,"&room=").concat(i),children:Object(s.jsx)("button",{type:"submit",className:"send-btn join-btn",children:"Sign In"})})]})]})},E=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("div",{className:"main-container",children:Object(s.jsxs)(j.a,{children:[Object(s.jsx)(u.a,{path:"/chatApp",exact:!0,component:k}),Object(s.jsx)(u.a,{path:"/chatApp/chat",component:M})]})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root")),I()},77:function(e,t,n){},78:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.a893cca1.chunk.js.map